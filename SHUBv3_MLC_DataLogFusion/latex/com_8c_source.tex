\doxysection{com.\+c}
\hypertarget{com_8c_source}{}\label{com_8c_source}\index{MEMS/Target/com.c@{MEMS/Target/com.c}}
\mbox{\hyperlink{com_8c}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00001}00001\ }
\DoxyCodeLine{\Hypertarget{com_8c_source_l00019}00019\ \textcolor{comment}{/*\ Includes\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00020}00020\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{com_8h}{com.h}}"{}}}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00021}00021\ }
\DoxyCodeLine{\Hypertarget{com_8c_source_l00026}00026\ \textcolor{comment}{/*\ Private\ types\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00027}00027\ \textcolor{comment}{/*\ Private\ defines\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00028}\mbox{\hyperlink{group__MOTION__APPLICATIONS_ga354ef6d002fe5d4532dcf26c070e0392}{00028}}\ \textcolor{preprocessor}{\#define\ Uart\_Msg\_Max\_Size\ TMsg\_MaxLen}}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00029}00029\ }
\DoxyCodeLine{\Hypertarget{com_8c_source_l00030}00030\ \textcolor{comment}{/*\ Private\ macro\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00031}00031\ \textcolor{comment}{/*\ Exported\ variables\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00032}\mbox{\hyperlink{group__MOTION__APPLICATIONS_ga27a1b0ece17d629a9628d0209e168435}{00032}}\ \textcolor{keyword}{volatile}\ uint8\_t\ \mbox{\hyperlink{group__MOTION__APPLICATIONS_ga27a1b0ece17d629a9628d0209e168435}{UartRxBuffer}}[\mbox{\hyperlink{com_8h_a566ad7c668661f2b4e70ad6673519507}{UART\_RxBufferSize}}];}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00033}\mbox{\hyperlink{group__MOTION__APPLICATIONS_ga44d3e8cd0b3ddfd2f7fa0f14f0870c21}{00033}}\ \mbox{\hyperlink{structTUart__Engine}{TUart\_Engine}}\ \mbox{\hyperlink{group__MOTION__APPLICATIONS_ga44d3e8cd0b3ddfd2f7fa0f14f0870c21}{UartEngine}};}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00034}00034\ }
\DoxyCodeLine{\Hypertarget{com_8c_source_l00035}00035\ \textcolor{comment}{/*\ Private\ variables\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00036}00036\ \textcolor{keyword}{static}\ \textcolor{keyword}{volatile}\ uint8\_t\ UartTxBuffer[\mbox{\hyperlink{com_8h_a5ea5b27ce3d1063f41b7a12c15ad167a}{UART\_TxBufferSize}}];}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00037}00037\ }
\DoxyCodeLine{\Hypertarget{com_8c_source_l00038}00038\ \textcolor{comment}{/*\ Private\ function\ prototypes\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00039}00039\ \textcolor{keyword}{static}\ uint32\_t\ Get\_DMA\_Flag\_Status(\mbox{\hyperlink{struct____DMA__HandleTypeDef}{DMA\_HandleTypeDef}}\ *handle\_dma);}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00040}00040\ \textcolor{keyword}{static}\ uint32\_t\ Get\_DMA\_Counter(\mbox{\hyperlink{struct____DMA__HandleTypeDef}{DMA\_HandleTypeDef}}\ *handle\_dma);}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00041}00041\ }
\DoxyCodeLine{\Hypertarget{com_8c_source_l00042}00042\ \textcolor{comment}{/*\ Exported\ functions\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00048}\mbox{\hyperlink{group__MOTION__APPLICATIONS_gaa3ca702c66e1272c143ddfcbe3a93e7b}{00048}}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{group__MOTION__APPLICATIONS_gaa3ca702c66e1272c143ddfcbe3a93e7b}{UART\_ReceivedMSG}}(\mbox{\hyperlink{structTMsg}{TMsg}}\ *Msg)}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00049}00049\ \{}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00050}00050\ \ \ uint16\_t\ i,\ j,\ k,\ j2;}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00051}00051\ \ \ uint16\_t\ dma\_counter,\ length;}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00052}00052\ \ \ uint8\_t\ data;}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00053}00053\ \ \ uint16\_t\ source\ =\ 0;}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00054}00054\ \ \ uint8\_t\ inc;}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00055}00055\ }
\DoxyCodeLine{\Hypertarget{com_8c_source_l00056}00056\ \ \ \textcolor{keywordflow}{if}\ (Get\_DMA\_Flag\_Status(\mbox{\hyperlink{group__STM32WLXX__NUCLEO__LOW__LEVEL__Private__Variables_ga8200aacd20eb23e9c91f99b0a81f1db7}{hcom\_uart}}[COM1].hdmarx)\ ==\ (uint32\_t)\mbox{\hyperlink{group__Exported__types_gga89136caac2e14c55151f527ac02daaffa589b7d94a3d91d145720e2fed0eb3a05}{RESET}})}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00057}00057\ \ \ \{}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00058}00058\ \ \ \ \ dma\_counter\ =\ (uint16\_t)\mbox{\hyperlink{com_8h_a566ad7c668661f2b4e70ad6673519507}{UART\_RxBufferSize}}\ -\/\ (uint16\_t)Get\_DMA\_Counter(\mbox{\hyperlink{group__STM32WLXX__NUCLEO__LOW__LEVEL__Private__Variables_ga8200aacd20eb23e9c91f99b0a81f1db7}{hcom\_uart}}[COM1].hdmarx);}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00059}00059\ }
\DoxyCodeLine{\Hypertarget{com_8c_source_l00060}00060\ \ \ \ \ \textcolor{keywordflow}{if}\ (dma\_counter\ >=\ \mbox{\hyperlink{group__MOTION__APPLICATIONS_ga44d3e8cd0b3ddfd2f7fa0f14f0870c21}{UartEngine}}.\mbox{\hyperlink{structTUart__Engine_a46a86c18899142422f1d0b8d4139fdca}{StartOfMsg}})}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00061}00061\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00062}00062\ \ \ \ \ \ \ length\ =\ dma\_counter\ -\/\ \mbox{\hyperlink{group__MOTION__APPLICATIONS_ga44d3e8cd0b3ddfd2f7fa0f14f0870c21}{UartEngine}}.\mbox{\hyperlink{structTUart__Engine_a46a86c18899142422f1d0b8d4139fdca}{StartOfMsg}};}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00063}00063\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00064}00064\ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00065}00065\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00066}00066\ \ \ \ \ \ \ length\ =\ (uint16\_t)\mbox{\hyperlink{com_8h_a566ad7c668661f2b4e70ad6673519507}{UART\_RxBufferSize}}\ +\ dma\_counter\ -\/\ \mbox{\hyperlink{group__MOTION__APPLICATIONS_ga44d3e8cd0b3ddfd2f7fa0f14f0870c21}{UartEngine}}.\mbox{\hyperlink{structTUart__Engine_a46a86c18899142422f1d0b8d4139fdca}{StartOfMsg}};}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00067}00067\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00068}00068\ }
\DoxyCodeLine{\Hypertarget{com_8c_source_l00069}00069\ \ \ \ \ j\ =\ \mbox{\hyperlink{group__MOTION__APPLICATIONS_ga44d3e8cd0b3ddfd2f7fa0f14f0870c21}{UartEngine}}.\mbox{\hyperlink{structTUart__Engine_a46a86c18899142422f1d0b8d4139fdca}{StartOfMsg}};}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00070}00070\ }
\DoxyCodeLine{\Hypertarget{com_8c_source_l00071}00071\ \ \ \ \ \textcolor{keywordflow}{for}\ (k\ =\ 0;\ k\ <\ length;\ k++)}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00072}00072\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00073}00073\ \ \ \ \ \ \ data\ =\ \mbox{\hyperlink{group__MOTION__APPLICATIONS_ga27a1b0ece17d629a9628d0209e168435}{UartRxBuffer}}[j];}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00074}00074\ \ \ \ \ \ \ j++;}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00075}00075\ }
\DoxyCodeLine{\Hypertarget{com_8c_source_l00076}00076\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (j\ >=\ (uint16\_t)\mbox{\hyperlink{com_8h_a566ad7c668661f2b4e70ad6673519507}{UART\_RxBufferSize}})}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00077}00077\ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00078}00078\ \ \ \ \ \ \ \ \ j\ =\ 0;}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00079}00079\ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00080}00080\ }
\DoxyCodeLine{\Hypertarget{com_8c_source_l00081}00081\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (data\ ==\ (uint8\_t)\mbox{\hyperlink{serial__protocol_8h_a062c6921a5a7c1c2c94fb9b5b26407ea}{TMsg\_EOF}})}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00082}00082\ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00083}00083\ \ \ \ \ \ \ \ \ j\ =\ \mbox{\hyperlink{group__MOTION__APPLICATIONS_ga44d3e8cd0b3ddfd2f7fa0f14f0870c21}{UartEngine}}.\mbox{\hyperlink{structTUart__Engine_a46a86c18899142422f1d0b8d4139fdca}{StartOfMsg}};}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00084}00084\ }
\DoxyCodeLine{\Hypertarget{com_8c_source_l00085}00085\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (i\ =\ 0;\ i\ <\ k;\ i\ +=\ inc)}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00086}00086\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00087}00087\ \ \ \ \ \ \ \ \ \ \ uint8\_t\ \ Source0;}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00088}00088\ \ \ \ \ \ \ \ \ \ \ uint8\_t\ \ Source1;}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00089}00089\ \ \ \ \ \ \ \ \ \ \ uint8\_t\ *Dest;}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00090}00090\ }
\DoxyCodeLine{\Hypertarget{com_8c_source_l00091}00091\ \ \ \ \ \ \ \ \ \ \ j2\ =\ (j\ +\ 1U)\ \%\ (uint16\_t)\mbox{\hyperlink{com_8h_a566ad7c668661f2b4e70ad6673519507}{UART\_RxBufferSize}};}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00092}00092\ }
\DoxyCodeLine{\Hypertarget{com_8c_source_l00093}00093\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (source\ >=\ \mbox{\hyperlink{serial__protocol_8h_a8ab4f6ba0e096344144cef66521d0d66}{TMsg\_MaxLen}})}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00094}00094\ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00095}00095\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group__MOTION__APPLICATIONS_ga44d3e8cd0b3ddfd2f7fa0f14f0870c21}{UartEngine}}.\mbox{\hyperlink{structTUart__Engine_a46a86c18899142422f1d0b8d4139fdca}{StartOfMsg}}\ =\ j;}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00096}00096\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00097}00097\ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00098}00098\ }
\DoxyCodeLine{\Hypertarget{com_8c_source_l00099}00099\ \ \ \ \ \ \ \ \ \ \ Source0\ =\ \mbox{\hyperlink{group__MOTION__APPLICATIONS_ga27a1b0ece17d629a9628d0209e168435}{UartRxBuffer}}[j];}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00100}00100\ \ \ \ \ \ \ \ \ \ \ Source1\ =\ \mbox{\hyperlink{group__MOTION__APPLICATIONS_ga27a1b0ece17d629a9628d0209e168435}{UartRxBuffer}}[j2];}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00101}00101\ \ \ \ \ \ \ \ \ \ \ Dest\ \ \ \ =\ \&Msg-\/>\mbox{\hyperlink{structTMsg_abeb9dd2364f6c65e10fcd75489b91edc}{Data}}[source];}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00102}00102\ }
\DoxyCodeLine{\Hypertarget{com_8c_source_l00103}00103\ \ \ \ \ \ \ \ \ \ \ inc\ =\ (uint8\_t)\mbox{\hyperlink{group__MOTION__APPLICATIONS_ga25ab7e28ed8848f9c01dacbcaf098ee8}{ReverseByteStuffCopyByte2}}(Source0,\ Source1,\ Dest);}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00104}00104\ }
\DoxyCodeLine{\Hypertarget{com_8c_source_l00105}00105\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (inc\ ==\ 0U)}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00106}00106\ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00107}00107\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group__MOTION__APPLICATIONS_ga44d3e8cd0b3ddfd2f7fa0f14f0870c21}{UartEngine}}.\mbox{\hyperlink{structTUart__Engine_a46a86c18899142422f1d0b8d4139fdca}{StartOfMsg}}\ =\ j2;}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00108}00108\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00109}00109\ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00110}00110\ }
\DoxyCodeLine{\Hypertarget{com_8c_source_l00111}00111\ \ \ \ \ \ \ \ \ \ \ j\ =\ (j\ +\ inc)\ \%\ (uint16\_t)\mbox{\hyperlink{com_8h_a566ad7c668661f2b4e70ad6673519507}{UART\_RxBufferSize}};}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00112}00112\ \ \ \ \ \ \ \ \ \ \ source++;}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00113}00113\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00114}00114\ }
\DoxyCodeLine{\Hypertarget{com_8c_source_l00115}00115\ \ \ \ \ \ \ \ \ Msg-\/>\mbox{\hyperlink{structTMsg_a1870ad3f3627e04db8097119051e4be8}{Len}}\ =\ source;}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00116}00116\ \ \ \ \ \ \ \ \ j\ =\ (j\ +\ 1U)\ \%\ (uint16\_t)\mbox{\hyperlink{com_8h_a566ad7c668661f2b4e70ad6673519507}{UART\_RxBufferSize}};\ \textcolor{comment}{/*\ skip\ TMsg\_EOF\ */}}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00117}00117\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group__MOTION__APPLICATIONS_ga44d3e8cd0b3ddfd2f7fa0f14f0870c21}{UartEngine}}.\mbox{\hyperlink{structTUart__Engine_a46a86c18899142422f1d0b8d4139fdca}{StartOfMsg}}\ =\ j;}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00118}00118\ }
\DoxyCodeLine{\Hypertarget{com_8c_source_l00119}00119\ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ check\ message\ integrity\ */}}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00120}00120\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (\mbox{\hyperlink{group__MOTION__APPLICATIONS_ga1d26d784869262c1b26e1575e243bb58}{CHK\_CheckAndRemove}}(Msg)\ !=\ 0)\ ?\ 1\ :\ 0;}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00121}00121\ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00122}00122\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00123}00123\ }
\DoxyCodeLine{\Hypertarget{com_8c_source_l00124}00124\ \ \ \ \ \textcolor{keywordflow}{if}\ (length\ >\ (uint16\_t)\mbox{\hyperlink{group__MOTION__APPLICATIONS_ga354ef6d002fe5d4532dcf26c070e0392}{Uart\_Msg\_Max\_Size}})}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00125}00125\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00126}00126\ \ \ \ \ \ \ \mbox{\hyperlink{group__MOTION__APPLICATIONS_ga44d3e8cd0b3ddfd2f7fa0f14f0870c21}{UartEngine}}.\mbox{\hyperlink{structTUart__Engine_a46a86c18899142422f1d0b8d4139fdca}{StartOfMsg}}\ =\ dma\_counter;}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00127}00127\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00128}00128\ \ \ \}}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00129}00129\ }
\DoxyCodeLine{\Hypertarget{com_8c_source_l00130}00130\ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00131}00131\ \}}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00132}00132\ }
\DoxyCodeLine{\Hypertarget{com_8c_source_l00138}\mbox{\hyperlink{group__MOTION__APPLICATIONS_gabe69880be85af0d8396ca3620c0cfd45}{00138}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{group__MOTION__APPLICATIONS_gabe69880be85af0d8396ca3620c0cfd45}{UART\_SendMsg}}(\mbox{\hyperlink{structTMsg}{TMsg}}\ *Msg)}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00139}00139\ \{}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00140}00140\ \ \ uint16\_t\ count\_out;}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00141}00141\ }
\DoxyCodeLine{\Hypertarget{com_8c_source_l00142}00142\ \ \ \mbox{\hyperlink{group__MOTION__APPLICATIONS_ga5e855d70731e181b4434206177b29583}{CHK\_ComputeAndAdd}}(Msg);}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00143}00143\ }
\DoxyCodeLine{\Hypertarget{com_8c_source_l00144}00144\ \ \ \textcolor{comment}{/*\ MISRA\ C-\/2012\ rule\ 11.8\ violation\ for\ purpose\ */}}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00145}00145\ \ \ count\_out\ =\ (uint16\_t)\mbox{\hyperlink{group__MOTION__APPLICATIONS_gaf6e45bca9826260db57c60ae16416a74}{ByteStuffCopy}}((uint8\_t\ *)UartTxBuffer,\ Msg);}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00146}00146\ }
\DoxyCodeLine{\Hypertarget{com_8c_source_l00147}00147\ \ \ \textcolor{comment}{/*\ MISRA\ C-\/2012\ rule\ 11.8\ violation\ for\ purpose\ */}}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00148}00148\ \ \ (void)\mbox{\hyperlink{group__UART__Exported__Functions__Group2_ga01a7a7ac3cf0a262814ba44ee7580ddb}{HAL\_UART\_Transmit}}(\&\mbox{\hyperlink{group__STM32WLXX__NUCLEO__LOW__LEVEL__Private__Variables_ga8200aacd20eb23e9c91f99b0a81f1db7}{hcom\_uart}}[COM1],\ (uint8\_t\ *)UartTxBuffer,\ count\_out,\ 5000);}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00149}00149\ \}}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00150}00150\ }
\DoxyCodeLine{\Hypertarget{com_8c_source_l00156}\mbox{\hyperlink{group__MOTION__APPLICATIONS_ga0b26bd6e23b2426297bc1ef2bea9ca6f}{00156}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{group__MOTION__APPLICATIONS_ga0b26bd6e23b2426297bc1ef2bea9ca6f}{UART\_StartReceiveMsg}}(\textcolor{keywordtype}{void})}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00157}00157\ \{}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00158}00158\ \ \ \mbox{\hyperlink{group__STM32WLXX__NUCLEO__LOW__LEVEL__Private__Variables_ga8200aacd20eb23e9c91f99b0a81f1db7}{hcom\_uart}}[COM1].\mbox{\hyperlink{struct____UART__HandleTypeDef_a7cee540cb21048ac48ba17355440e668}{pRxBuffPtr}}\ =\ (uint8\_t\ *)\mbox{\hyperlink{group__MOTION__APPLICATIONS_ga27a1b0ece17d629a9628d0209e168435}{UartRxBuffer}};\ \textcolor{comment}{/*\ MISRA\ C-\/2012\ rule\ 11.8\ violation\ for\ purpose\ */}}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00159}00159\ \ \ \mbox{\hyperlink{group__STM32WLXX__NUCLEO__LOW__LEVEL__Private__Variables_ga8200aacd20eb23e9c91f99b0a81f1db7}{hcom\_uart}}[COM1].\mbox{\hyperlink{struct____UART__HandleTypeDef_ac12f5f1f6295b3c3327d5feabf5a96fb}{RxXferSize}}\ =\ \mbox{\hyperlink{com_8h_a566ad7c668661f2b4e70ad6673519507}{UART\_RxBufferSize}};}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00160}00160\ \ \ \mbox{\hyperlink{group__STM32WLXX__NUCLEO__LOW__LEVEL__Private__Variables_ga8200aacd20eb23e9c91f99b0a81f1db7}{hcom\_uart}}[COM1].\mbox{\hyperlink{struct____UART__HandleTypeDef_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}}\ =\ (uint32\_t)\mbox{\hyperlink{group__UART__Error__Definition_ga275de35cb518c19c284764f3ecb1aac5}{HAL\_UART\_ERROR\_NONE}};}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00161}00161\ }
\DoxyCodeLine{\Hypertarget{com_8c_source_l00162}00162\ \ \ \textcolor{comment}{/*\ Enable\ the\ DMA\ transfer\ for\ the\ receiver\ request\ by\ setting\ the\ DMAR\ bit}}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00163}00163\ \textcolor{comment}{\ \ \ \ \ in\ the\ UART\ CR3\ register\ */}}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00164}00164\ \ \ \textcolor{comment}{/*\ MISRA\ C-\/2012\ rule\ 11.8\ violation\ for\ purpose\ */}}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00165}00165\ \ \ (void)\mbox{\hyperlink{group__UART__Exported__Functions__Group2_gad674cce054e58927720cd689620ffa08}{HAL\_UART\_Receive\_DMA}}(\&\mbox{\hyperlink{group__STM32WLXX__NUCLEO__LOW__LEVEL__Private__Variables_ga8200aacd20eb23e9c91f99b0a81f1db7}{hcom\_uart}}[COM1],\ (uint8\_t\ *)\mbox{\hyperlink{group__MOTION__APPLICATIONS_ga27a1b0ece17d629a9628d0209e168435}{UartRxBuffer}},\ \mbox{\hyperlink{com_8h_a566ad7c668661f2b4e70ad6673519507}{UART\_RxBufferSize}});}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00166}00166\ \}}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00167}00167\ }
\DoxyCodeLine{\Hypertarget{com_8c_source_l00168}00168\ \textcolor{comment}{/*\ Private\ functions\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00169}00169\ }
\DoxyCodeLine{\Hypertarget{com_8c_source_l00175}00175\ \textcolor{keyword}{static}\ uint32\_t\ Get\_DMA\_Flag\_Status(\mbox{\hyperlink{struct____DMA__HandleTypeDef}{DMA\_HandleTypeDef}}\ *handle\_dma)}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00176}00176\ \{}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00177}00177\ \ \ \textcolor{keywordflow}{return}\ (\mbox{\hyperlink{group__DMA__Exported__Macros_ga798d4b3b3fbd32b95540967bb35b35be}{\_\_HAL\_DMA\_GET\_FLAG}}(handle\_dma,\ \mbox{\hyperlink{group__DMA__Exported__Macros_ga5e765bb3b1c5fc9f1b1abbbb764250bc}{\_\_HAL\_DMA\_GET\_TE\_FLAG\_INDEX}}(handle\_dma)));}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00178}00178\ \}}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00179}00179\ }
\DoxyCodeLine{\Hypertarget{com_8c_source_l00185}00185\ \textcolor{keyword}{static}\ uint32\_t\ Get\_DMA\_Counter(\mbox{\hyperlink{struct____DMA__HandleTypeDef}{DMA\_HandleTypeDef}}\ *handle\_dma)}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00186}00186\ \{}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00187}00187\ \ \ \textcolor{keywordflow}{return}\ (\mbox{\hyperlink{group__DMA__Exported__Macros_ga082d691311bac96641dc35a17cfe8e63}{\_\_HAL\_DMA\_GET\_COUNTER}}(handle\_dma));}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00188}00188\ \}}
\DoxyCodeLine{\Hypertarget{com_8c_source_l00189}00189\ }

\end{DoxyCode}
